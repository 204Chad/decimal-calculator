<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <form action="">
      <input type="number" id="timeA" />
      <input type="number" id="timeB" />
      <button id="exe_btn">calculate</button>
    </form>
  </body>

  <script>
    const exeBtn = document.querySelector('#exe_btn');

    const formatTime = (input) => {
      input = input.toString();

      if (input.length === 4) {
        let hours = input.slice(0, 2);
        let minutes = input.slice(2);

        let formattedTime = hours + ':' + minutes;

        return formattedTime;
      } else {
        return 'Invalid input';
      }
    };

    exeBtn.addEventListener('click', (e) => {
      e.preventDefault();
      const timeA = document.querySelector('#timeA');
      const timeB = document.querySelector('#timeB');

      alert(calculateTimeGap(formatTime(timeA.value), formatTime(timeB.value)));
      timeA.value = '';
      timeB.value = '';
      timeA.focus();
    });

    const calculateTimeGap = (timeA, timeB) => {
      var timeAParts = timeA.split(':');
      var timeBParts = timeB.split(':');

      var dateA = new Date();
      dateA.setHours(
        parseInt(timeAParts[0], 10),
        parseInt(timeAParts[1], 10),
        0
      );
      var dateB = new Date();
      dateB.setHours(
        parseInt(timeBParts[0], 10),
        parseInt(timeBParts[1], 10),
        0
      );

      var timeDifference = dateB.getTime() - dateA.getTime();

      var hours = Math.floor(timeDifference / (1000 * 60 * 60));
      var minutes = Math.floor(
        (timeDifference % (1000 * 60 * 60)) / (1000 * 60)
      );
      if (minutes >= 0 && minutes <= 2) {
        minutes = 0;
      } else if (minutes >= 3 && minutes <= 8) {
        minutes = 0.1;
      } else if (minutes >= 9 && minutes <= 14) {
        minutes = 0.2;
      } else if (minutes >= 15 && minutes <= 20) {
        minutes = 0.3;
      } else if (minutes >= 21 && minutes <= 26) {
        minutes = 0.4;
      } else if (minutes >= 27 && minutes <= 32) {
        minutes = 0.5;
      } else if (minutes >= 33 && minutes <= 38) {
        minutes = 0.6;
      } else if (minutes >= 39 && minutes <= 44) {
        minutes = 0.7;
      } else if (minutes >= 45 && minutes <= 50) {
        minutes = 0.8;
      } else if (minutes >= 51 && minutes <= 56) {
        minutes = 0.9;
      } else if (minutes >= 57 && minutes <= 60) {
        minutes = 1;
      }

      // console.log(hours);
      // console.log(minutes);

      return hours + minutes;
    };
  </script>
</html>
